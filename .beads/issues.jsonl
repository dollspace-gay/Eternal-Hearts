{"id":"Eternal-Hearts-0j8","content_hash":"4f9db9817da17fece1e04736705df5b49eb73f78634c5c921063b279a755d8f1","title":"No centralized color system","description":"Multiple files use color classes differently. Should create centralized color system in theme config.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-08T00:51:43.555819-06:00","updated_at":"2025-11-08T00:51:43.555819-06:00","labels":["refactor"]}
{"id":"Eternal-Hearts-0tr","content_hash":"e2ea67be87e1d2e7ca4a2c0e4616429c8092c27e8c962d0dabe128721cd21f75","title":"Inefficient hint generation without memoization","description":"StoryHints.tsx:17-245 - generateHints runs complex calculations on every render. Should use useMemo. Performance degrades as game progresses.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:38.5223008-06:00","updated_at":"2025-11-08T00:51:38.5223008-06:00","labels":["performance","react"]}
{"id":"Eternal-Hearts-0vt","content_hash":"1124303532bc1b78d2d103725f69b52ecb5401baefa3c92d8a37264b4dd52e9a","title":"Inconsistent character data in backstories","description":"characterBackstories.ts:24 - Uses static character data import instead of referencing from gameState. Backstory scenes show stale character information.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:35.1677017-06:00","updated_at":"2025-11-08T00:51:35.1677017-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-0zy","content_hash":"bd474f1fc98c547220c8d8a538c0b842ea3bc54dee3c2a1ba2b261a7f94e87ba","title":"Missing null checks in StoryHints component","description":"StoryHints.tsx:51-110 - Accesses currentScene.choices without validating that currentScene exists and that choices is an array. While using optional chaining for currentScene, doesn't validate nested properties exist.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-08T00:51:25.5912519-06:00","updated_at":"2025-11-08T00:51:25.5912519-06:00","labels":["bug","typescript"]}
{"id":"Eternal-Hearts-37g","content_hash":"a33e4bddce7333e867b5f49c0dce17746185e72b587df54e72c9afe056a71ae1","title":"Missing cleanup in Game.tsx URL manipulation","description":"Game.tsx:11-19 - Manipulates browser history without checking if component is still mounted. Can cause errors if navigation happens quickly.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:35.9812075-06:00","updated_at":"2025-11-08T00:51:35.9812075-06:00","labels":["bug","react"]}
{"id":"Eternal-Hearts-3c3","content_hash":"66c98e402f7168f7c2227f88732c4e255080dce667a7db5f35277aad4d9f1041","title":"Auto-save infinite loop causing memory leaks","description":"GameContext.tsx:274-281 - Creates new interval every time gameState changes. The useEffect dependency array includes gameState, so every state change creates a new interval without cleaning up the old one. This causes memory leaks and excessive localStorage writes.","status":"open","priority":0,"issue_type":"bug","created_at":"2025-11-08T00:51:22.2768593-06:00","updated_at":"2025-11-08T00:51:22.2768593-06:00","labels":["critical","performance","react"]}
{"id":"Eternal-Hearts-5yw","content_hash":"2d42eb7b83bb54517e9416604f3c97446ae0ceaedc1779d964a23adde74ed1cc","title":"Shallow copy allows nested object mutation","description":"characterEffects.ts:227-243 - applyCharacterEffects uses shallow copy which doesn't prevent mutation of nested objects (effects, playerStatEffects). Original choice data may be mutated.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:29.0483324-06:00","updated_at":"2025-11-08T00:51:29.0483324-06:00","labels":["bug","refactor"]}
{"id":"Eternal-Hearts-70c","content_hash":"2a2fe9e0776c45b0dd6c0b77855aa1cad91e5acca90d7295a0ce8bca1b4a26be","title":"No fallback for missing scene data","description":"GameContext.tsx:303-306 - getCurrentScene can return undefined but no error handling. Game gets stuck showing 'Loading story...' with no feedback.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-08T00:51:41.0762771-06:00","updated_at":"2025-11-08T00:51:41.0762771-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-70j","content_hash":"3bc2fcae35da085ecc5e988cf2dc665dc7341cc5e35ea7bdf07b68a63bad426c","title":"No error boundaries in component tree","description":"No error boundaries implemented. Runtime errors crash entire app instead of showing fallback UI. Should add error boundaries at strategic points.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-08T00:51:39.3800651-06:00","updated_at":"2025-11-08T00:51:39.3800651-06:00","labels":["bug","react"]}
{"id":"Eternal-Hearts-76e","content_hash":"938d65b2201e4c8c1b5b05d595064ffd1abddd7946a0bd05caa81d730e1cab7f","title":"Mixed naming conventions across codebase","description":"Inconsistent naming (gameData vs gameState, choices vs allChoices). Need to standardize naming conventions.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-08T00:51:42.7453129-06:00","updated_at":"2025-11-08T00:51:42.7453129-06:00","labels":["refactor"]}
{"id":"Eternal-Hearts-77w","content_hash":"8ed4557160ecc8ee08a2bf364c975f6f3cd65946f3b35c3c26db38868f5bf7e8","title":"Stale closure in makeChoice setTimeout","description":"GameContext.tsx:308-355 - Uses gameState inside setTimeout which may be stale after 100ms delay. Achievement checks run on outdated state.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-08T00:51:33.5019597-06:00","updated_at":"2025-11-08T00:51:33.5019597-06:00","labels":["bug","react"]}
{"id":"Eternal-Hearts-7b5","content_hash":"0c853cf8e4100e32e063cf1da28495dcd35c6105efecabe243d5e4b732016d08","title":"Missing localStorage error handling","description":"GameContext.tsx:276,286-299 - No try-catch for localStorage operations. Can fail due to quota exceeded, privacy mode, etc. Silent failures lead to lost saves with no user feedback.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-08T00:51:30.9980127-06:00","updated_at":"2025-11-08T00:51:30.9980127-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-7j6","content_hash":"90e6a356d57bbef9ed86c9fb086764c8475a65a1210ed04871fbed9e750979ac","title":"Missing scene transition validation","description":"GameContext.tsx:166-169 - No validation that nextScene exists in gameData before transitioning. If nextScene ID doesn't exist, game breaks with stuck states.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-08T00:51:34.3173287-06:00","updated_at":"2025-11-08T00:51:34.3173287-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-8hr","content_hash":"b0d642dce66033ae27232756f429b9bb5da0c00a46dfbddfe9e6a24bd801d194","title":"Duplicate key generation in ChoicePanel","description":"ChoicePanel.tsx:46 - Uses choice.id as key, but trait choices may not have unique IDs. Causes React warnings and incorrect re-rendering.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:36.7718187-06:00","updated_at":"2025-11-08T00:51:36.7718187-06:00","labels":["bug","react"]}
{"id":"Eternal-Hearts-a6f","content_hash":"51e9fa8bef6c96897f11220d06e2b164297f06f12b6fb51d971282e340a86644","title":"Excessive re-renders in Sidebar","description":"Sidebar.tsx:151 - Maps over all characters on every render without memoization. Recalculates relationship status on every gameState change.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:37.6235875-06:00","updated_at":"2025-11-08T00:51:37.6235875-06:00","labels":["performance","react"]}
{"id":"Eternal-Hearts-dfl","content_hash":"8dc546be707145b5bea570cdc9a298f9a72b82db611237929d7df65d8df5e9b6","title":"Type safety violations - any type usage","description":"Multiple files use 'any' instead of proper GameState type: achievements.ts:183, characterBackstories.ts:253, recoveryActions.ts:106. This removes all type safety benefits and can cause runtime errors.","status":"open","priority":0,"issue_type":"bug","created_at":"2025-11-08T00:51:23.9308897-06:00","updated_at":"2025-11-08T00:51:23.9308897-06:00","labels":["critical","typescript"]}
{"id":"Eternal-Hearts-eja","content_hash":"6b73c9aef4a884297297274779063bb9432115c347fcd0b527e6b82e28d0d7b3","title":"Unused index parameter in ChoicePanel map","description":"ChoicePanel.tsx:41 - Map declares index parameter but doesn't use it. Should use for unique keys or remove it.","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-08T00:51:47.0046907-06:00","updated_at":"2025-11-08T00:51:47.0046907-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-gcc","content_hash":"a0667e3f03e9c140174365e8b2cabbabf6b34d269ef7d9e8b18c0f73ed8460fb","title":"Overly broad type casting in achievements","description":"achievements.ts:213 - Uses (char: any) instead of proper Character type. Should use properly typed parameters.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:45.2045499-06:00","updated_at":"2025-11-08T00:51:45.2045499-06:00","labels":["typescript"]}
{"id":"Eternal-Hearts-kcd","content_hash":"b70efd476293c6245f5902af2fd45fb4c64bdf4bc791623434238b6b17ca7663","title":"React hook dependency array issues","description":"GameContext.tsx:284-301 - useEffect with empty dependency array accesses dispatch but doesn't include it in dependencies. Causes ESLint warnings and potential stale closure issues with React 18 StrictMode.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-08T00:51:26.4157761-06:00","updated_at":"2025-11-08T00:51:26.4157761-06:00","labels":["bug","react"]}
{"id":"Eternal-Hearts-ljz","content_hash":"d71e7c594878d9c9c0984f608a3efbdb3b09b94001fa8f3c0a33ab34925d264f","title":"Missing return type annotations in character effects","description":"characterEffects.ts - Functions don't declare return types. Leads to type inference failures. Add explicit return types to all functions.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:44.375999-06:00","updated_at":"2025-11-08T00:51:44.375999-06:00","labels":["typescript"]}
{"id":"Eternal-Hearts-odg","content_hash":"67e9c3b84217d869a3a1c8f8a21200d9670799f82e953fec9cc56fb0b71c0b0e","title":"Non-deterministic gameplay from Math.random","description":"characterEffects.ts:342,446 - Using Math.random() for game mechanics without seeding. Same choices can have different outcomes, makes saves unpredictable and testing difficult.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:28.1760728-06:00","updated_at":"2025-11-08T00:51:28.1760728-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-oyx","content_hash":"93c094cae31689300026ab264890163cf1bcbbd499d1e818ecc9ec8ced54d924","title":"Race condition in recovery action cooldowns","description":"recoveryActions.ts:106-142 - Using Date.now() for cooldown checks without considering async state updates. Multiple rapid clicks could bypass cooldown.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:32.7151426-06:00","updated_at":"2025-11-08T00:51:32.7151426-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-r39","content_hash":"c7137eab06f3ca67cac5a872f23200edd60a17a8351d7f95cea8992f44e7e503","title":"Potential XSS vulnerability in story text","description":"StoryPanel.tsx:46-50 - Renders story text without sanitization. If gameData is loaded from untrusted source, HTML/JS could execute.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-08T00:51:41.8724066-06:00","updated_at":"2025-11-08T00:56:07.6023168-06:00","closed_at":"2025-11-08T00:56:07.6023168-06:00","labels":["critical","security"],"comments":[{"id":1,"issue_id":"Eternal-Hearts-r39","author":"LAURELAI\\admin","text":"Fixed XSS vulnerability by adding URL sanitization. Changes: 1) Added sanitizeUrl() function in utils.ts that blocks javascript:, data:text/html, vbscript:, file:, and about: protocols. Only allows http://, https://, data:image/*, and relative URLs. 2) Updated StoryPanel.tsx to use useMemo with sanitizeUrl for background images. 3) Added proper TypeScript return types. The vulnerability was in the inline style backgroundImage property which could execute malicious code if gameData was loaded from untrusted source (e.g., modified localStorage).","created_at":"2025-11-08T06:55:34Z"}]}
{"id":"Eternal-Hearts-rj5","content_hash":"79ab8d74845be26b961c5139528f3eb4adc70d0ca8a66e3647bd7a97f9be2f4a","title":"Character effects applied without validation","description":"GameContext.tsx:56-99 - No validation that character exists before modifying. While there's an if check, errors are silently ignored making debugging difficult.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:30.0388121-06:00","updated_at":"2025-11-08T00:51:30.0388121-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-sf9","content_hash":"7bd6f5226353acb92b28faa022415270b6c17a3b5322f01074ff2ea36242785a","title":"Memory leak in makeChoice setTimeout","description":"GameContext.tsx:332-354 - Uses setTimeout without cleanup function. If component unmounts before timeout completes, can cause memory leaks and state updates on unmounted components.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-08T00:51:24.7520348-06:00","updated_at":"2025-11-08T00:51:24.7520348-06:00","labels":["bug","performance","react"]}
{"id":"Eternal-Hearts-vo6","content_hash":"b193f576f6ab06dd423d8b3d9246a82d740674b9332de6f3c4e372cb5692f2a3","title":"Broken survivor achievement logic","description":"achievements.ts:236-237 - The survivor achievement uses recentChoices.every(() =\u003e ...) which doesn't use the iteration item. It checks CURRENT stats 10 times instead of checking if stats were above 50 during each of the 10 recent choices.","status":"open","priority":0,"issue_type":"bug","created_at":"2025-11-08T00:51:23.1102745-06:00","updated_at":"2025-11-08T00:51:23.1102745-06:00","labels":["bug","critical"]}
{"id":"Eternal-Hearts-vy9","content_hash":"b96f53efac8e3099f8f3a496a79318331bcf85b27fbc77513e3a40ce185956ea","title":"Incomplete recovery action implementation","description":"GameContext.tsx:388 - Comment says 'Will implement recovery action logic later'. Uses hardcoded recovery values instead of action definitions.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:46.0350931-06:00","updated_at":"2025-11-08T00:51:46.0350931-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-w28","content_hash":"9e70cbd13ef177125e73f254aa98bacff47792838bf634da3388d916bed3b4bc","title":"Unsafe type assertions in StoryHints","description":"StoryHints.tsx:51-78 - Uses 'any' type for choices and effects without validation. No guarantee that choice.effects exists or is an array before calling .some() on it.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:27.2731179-06:00","updated_at":"2025-11-08T00:51:27.2731179-06:00","labels":["bug","typescript"]}
{"id":"Eternal-Hearts-wqz","content_hash":"2dc51581fce5321315c620b8404ea79249e4b1c8269fdf590773529d9fa37117","title":"Missing trait validation in character creation","description":"CharacterCreation.tsx:61-73 - canFinishCreation doesn't verify one trait per category as required. Could allow invalid character creation.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:40.2253909-06:00","updated_at":"2025-11-08T00:51:40.2253909-06:00","labels":["bug"]}
{"id":"Eternal-Hearts-y5k","content_hash":"6bed66276276782ebcb718417697cc1927d39f47104aba6f00519a94adb8c087","title":"Unsafe JSON parsing in GameStateModal","description":"GameStateModal.tsx:121 - JSON.parse without validation, silent failure on catch. User doesn't know why saves aren't loading.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-08T00:51:31.8666003-06:00","updated_at":"2025-11-08T00:51:31.8666003-06:00","labels":["bug"]}
